(this["webpackJsonpstock-market"]=this["webpackJsonpstock-market"]||[]).push([[4],{182:function(e,t,a){e.exports={MarketContainer:"ChartPage_MarketContainer__3CeKS",ChartZone:"ChartPage_ChartZone__381pB",LeftContainer:"ChartPage_LeftContainer__3EsxR",InfoContainer:"ChartPage_InfoContainer__1dHD2",InfoZone:"ChartPage_InfoZone__22IZT",HttpError:"ChartPage_HttpError__2ow_m"}},183:function(e,t,a){e.exports={Tooltip:"Chart_Tooltip__275po",Chart:"Chart_Chart__2tWds",Ticks:"Chart_Ticks__1fR-g",LoadingSpinner:"Chart_LoadingSpinner__2nWiP"}},361:function(e,t,a){e.exports={MenuContainer:"SelectMenu_MenuContainer__2jfQ-",scrollable:"SelectMenu_scrollable__2KZQS",Title:"SelectMenu_Title__2d2DL","custom-select-wrapper":"SelectMenu_custom-select-wrapper__3DFba","custom-select":"SelectMenu_custom-select__3cSsd","custom-select__trigger":"SelectMenu_custom-select__trigger__h2kwW","custom-options":"SelectMenu_custom-options__h51A7",open:"SelectMenu_open__3trWo","custom-option":"SelectMenu_custom-option__32BMX",selected:"SelectMenu_selected__2rJP6",arrow:"SelectMenu_arrow__2UgE1"}},378:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),i=function(){return Object(c.b)()},o=c.c,s=a(182),l=a.n(s),u=a(21),h=a(369),p=a(370),d=a(366),m=a(375),j=a(340),f=a(341),b=a(365),g=a(183),x=a.n(g),_=a(24),O=a(1),v=["January","February","March","April","May","June","July","August","September","October","November","December"],S=function(){var e=o((function(e){return e.chart.chartData})),t=o((function(e){return e.chart.timestamps})),a=o((function(e){return e.chart.currTimeRange.range})),n=o((function(e){return e.chart.sizes})),r=n.pageHeight,c=n.pageWidth;return console.log(r,c),0===e.length||0===t.length?Object(O.jsx)("div",{className:x.a.LoadingSpinner,children:Object(O.jsx)(_.a,{})}):Object(O.jsx)(h.a,{width:"90%",height:"95%",children:Object(O.jsxs)(p.a,{width:500,height:400,data:e,margin:{top:33,right:25,left:20,bottom:20},children:[Object(O.jsx)(d.a,{dataKey:"price",stroke:"black",fill:"url(#color)",activeDot:{fill:"black",r:6}}),Object(O.jsx)("defs",{children:Object(O.jsxs)("linearGradient",{id:"color",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(O.jsx)("stop",{offset:"0%",stopColor:"#232b2b",stopOpacity:.3}),Object(O.jsx)("stop",{offset:"85%",stopColor:"#232b2b",stopOpacity:.05})]})}),Object(O.jsx)(m.a,{opacity:.5,vertical:!1}),Object(O.jsx)(j.a,{dataKey:"date",axisLine:!1,tickLine:!1,tick:Object(O.jsx)(k,{dateRange:a,timestamps:t,pageHeight:r,pageWidth:c}),interval:0}),Object(O.jsx)(f.a,{dataKey:"price",axisLine:!0,tickLine:!1,tickCount:4,domain:["auto","auto"],tick:Object(O.jsx)(C,{}),type:"number",interval:0}),Object(O.jsx)(b.a,{content:Object(O.jsx)(y,{range:a})})]})})},k=function(e){var t=e.x,a=e.y,n=e.payload,r=e.dateRange,c=e.timestamps,i=(e.pageHeight,e.pageWidth),o=n.value,s=n.index,l=0,h=0,p=0,d=0,m=0;"1d"!==r&&(l=c[0][s],h=c[1][s-1],p=c[1][s],d=c[2][s-1],m=c[2][s]);var j="";if("max"===r){var f=c[2][0];f>=2010?m!==d&&m%2===0&&(j=String(m)):f>=2e3?m!==d&&m%4===0&&(j=String(m)):f>=1990?m!==d&&m%6===0&&(j=String(m)):m!==d&&m%8===0&&(j=String(m))}else if("5y"===r)i<=1e3?m!==d&&0!==s&&(j=String(m)):m!==d&&(j=String(m));else if("1y"===r)p!==h&&p%2!==0&&(j=1===p?String(m):"".concat(v[p-1].split("").splice(0,3).join("")));else if("6m"===r)p!==h&&(j="".concat(v[p-1].split("").splice(0,3).join("")));else if("1m"===r)s%5===0&&(j="".concat(v[p-1].split("").splice(0,3).join("")," ").concat(l));else if("5d"===r)j="".concat(v[p-1].split("").splice(0,3).join("")," ").concat(l);else if("1d"===r){var b=o.split(" ")[0].split(":"),g=Object(u.a)(b,2),x=g[0],_=g[1];i<700?Number(x)%2!==0&&"00"===_&&(j=o):"00"===_&&(j=o)}return Object(O.jsx)("g",{transform:"translate(".concat(t,", ").concat(a,")"),children:Object(O.jsx)("text",{x:0,y:0,dy:16,textAnchor:"middle",fill:"black",fontSize:14,children:j})})},C=function(e){var t=e.x,a=e.y,n=e.index,r=e.payload.value.toFixed(2);return 0===n?null:Object(O.jsx)("g",{transform:"translate(".concat(t,", ").concat(a,")"),children:Object(O.jsx)("text",{x:0,y:0,dy:5,textAnchor:"end",children:r})})},y=function(e){var t=e.active,a=e.payload,n=e.label,r=e.range;if(t){var c="";if("1d"===r)c=a[0].payload.date;else{var i=n.split("-"),o=i[2],s="Jan";s="0"===i[1][0]?v[Number(i[1][1])-1]:v[Number(i[1])-1];var l=i[0];c="".concat(o," ").concat(s,", ").concat(l)}return Object(O.jsxs)("div",{className:x.a.Tooltip,children:[Object(O.jsx)("h4",{children:c}),Object(O.jsx)("p",{children:Number(a[0].value).toFixed(2)})]})}return null},w=r.a.memo(S),N=a(157),L=a.n(N),M=a(342),T=a(343),D=a.n(T),A=a(22),P=a(361),E=a.n(P),I=function(e){var t=i(),a=o((function(e){return e.chart.currStock.symbol})),r=o((function(e){return e.chart.currTimeRange.range})),c=Object(n.useState)(!1),s=Object(u.a)(c,2),l=s[0],h=s[1],p=Object(n.useState)("Stock"===e.title?a:r),d=Object(u.a)(p,2),m=d[0],j=d[1],f=function(a){if(j(a),"Range"===e.title){var n="1d";"1d"===a&&(n="15m"),"5y"===a&&(n="1wk"),"max"===a&&(n="1mo"),t((r={range:a,interval:n},function(e){e(A.a.setCurrTimeRange({range:r.range,interval:r.interval})),e(A.a.setChartData({chartData:[]}))}))}var r,c;if("Stock"===e.title){var i="",o="";"AAPL"===a?(i="Apple",o=a):"FB"===a?(i="Facebook",o=a):"AMZN"===a?(i="Amazon",o=a):"NFLX"===a?(i="Netflix",o=a):"GOOGL"===a?(i="Alphabet",o=a):"TSLA"===a?(i="Tesla",o=a):"MSFT"===a&&(i="Microsoft",o=a),t((c={stockName:i,stockSymbol:o},function(e){e(A.a.setCurrStock({name:c.stockName,symbol:c.stockSymbol})),e(A.a.setChartData({chartData:[]})),e(A.a.setIsLoading({isLoading:!0}))}))}},b=Object(O.jsx)("div",{className:E.a["custom-options"],children:e.options.map((function(e){return Object(O.jsx)("span",{className:m===e?"".concat(E.a["custom-option"]," ").concat(E.a.selected):"".concat(E.a["custom-option"]),"data-value":e.toLowerCase(),onClick:function(){return f(e)},children:e.toUpperCase()},Math.random().toString())}))});return Object(O.jsxs)("div",{className:E.a.MenuContainer,children:[Object(O.jsx)("h1",{className:E.a.Title,children:e.title}),Object(O.jsx)("div",{className:E.a["custom-select-wrapper"],onClick:function(){h(!l)},children:Object(O.jsxs)("div",{className:l?"".concat(E.a["custom-select"]," ").concat(E.a.open):"".concat(E.a["custom-select"]),children:[Object(O.jsxs)("div",{className:E.a["custom-select__trigger"],children:[Object(O.jsx)("span",{children:m.toUpperCase()}),Object(O.jsx)("div",{className:E.a.arrow})]}),b]})})]})};t.default=function(){var e=i(),t=o((function(e){return e.chart.currStock})),a=o((function(e){return e.chart.currTimeRange})),r=o((function(e){return e.chart.stockPrice})),c=o((function(e){return e.chart.isLoading})),s=o((function(e){return e.chart.error}));Object(n.useEffect)((function(){var n;e((n={currStock:t,currTimeRange:a},function(){var e=Object(M.a)(L.a.mark((function e(t){var a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=Object(M.a)(L.a.mark((function e(){var t,a,r,c,i,o,s,l,u,h,p,d,m,j,f,b,g,x,_;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.currStock,a=n.currTimeRange,r="",r="1m"===a.range?"1mo":"6m"===a.range?"6mo":a.range,e.next=5,D.a.request({method:"GET",url:"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/get-charts",params:{symbol:t.symbol,interval:a.interval,range:r.toLowerCase(),region:"US",comparisons:"^GDAXI,^FCHI"},headers:{"x-rapidapi-key":"41f084f51cmsh2fce017f88a0c79p175ce0jsn2d11f1030e8c","x-rapidapi-host":"apidojo-yahoo-finance-v1.p.rapidapi.com"}});case 5:if("OK"===(c=e.sent).statusText){e.next=8;break}throw new Error("Chart data couldn't be fetched");case 8:for(i=c.data.chart.result[0].indicators.quote[0].close,o=c.data.chart.result[0].timestamp,s=[],l=0;l<i.length;l++)u=0,u=null===i[l]?(i[l-2]+i[l-1])/2:i[l],s.push(Math.round(100*(u+Number.EPSILON))/100);if(h=[],p=[],d=[],m=[],"1d"===a.range)for(j=0;j<o.length;j++)f=new Date(1e3*o[j]).toLocaleDateString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).split(",")[1].trim(),h.push(f);else for(b=0;b<o.length;b++)g=new Date(1e3*o[b]).toLocaleDateString("en-GB").split("/"),p.push(Number(g[0])),d.push(Number(g[1])),m.push(Number(g[2])),h.push([g[2],g[1],g[0]].join("-"));for(x=[],_=0;_<s.length;_++)x.push({date:h[_],price:s[_]});return e.abrupt("return",{stockPrice:s[s.length-1],chartData:x,timeData:[p,d,m]});case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,a();case 4:r=e.sent,t(A.a.setChartData({chartData:r.chartData})),t(A.a.setTimestamps({timestamps:r.timeData})),t(A.a.setStockPrice({price:r.stockPrice})),t(A.a.setIsLoading({isLoading:!1})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(A.a.setError({error:!0}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,t,a]),Object(n.useLayoutEffect)((function(){var t=function(){var t;e((t={height:window.innerHeight,width:window.innerWidth},function(e){e(A.a.setSizes({height:t.height,width:t.width}))}))};return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}));var u=Object(O.jsxs)("div",{className:l.a.ChartZone,children:[Object(O.jsx)("h1",{children:"".concat(t.name," Inc")}),Object(O.jsx)("h2",{children:c?"Price is loading":"".concat(r," USD")}),Object(O.jsx)(w,{})]});return s&&(u=Object(O.jsx)("div",{className:"".concat(l.a.ChartZone," ").concat(l.a.HttpError),children:Object(O.jsx)("p",{children:"Something went wrong"})})),Object(O.jsxs)("div",{className:l.a.MarketContainer,children:[Object(O.jsx)("div",{className:l.a.LeftContainer}),u,Object(O.jsx)("div",{className:l.a.InfoContainer,children:Object(O.jsxs)("div",{className:l.a.InfoZone,children:[Object(O.jsx)(I,{title:"Stock",options:["AAPL","AMZN","FB","GOOGL","MSFT","NFLX","TSLA"]}),Object(O.jsx)(I,{title:"Range",options:["1d","5d","1m","6m","1y","5y","max"]})]})})]})}}}]);
//# sourceMappingURL=4.5cc6aaff.chunk.js.map